import Head from 'next/head';
import Header from '~/Header';
import Footer from '~/Footer';
import Hero from '~/Hero';
import About from '~/About';
import Languages from '~/Languages';
import OtherFeatures from '~/OtherFeatures';
import Support from '~/Support';
import Box from '~/ui/Box';

export async function getStaticProps() {
  const res = await fetch('https://letra-extension.herokuapp.com/languages');
  const data = await res.json();

  return {
    props: {
      languages: data.languages,
    },
  };
}

export default function Home({ languages }) {
  return (
    <div>
      <Head>
        <title>Letra | Learn a Foreign Language Passively</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <Header />
      <Box
        css={{
          display: 'grid',
          gridRowGap: '$7',
          '@md': {
            gridRowGap: '$8',
          },
        }}
      >
        <Hero />
        <About />
        <Languages languages={languages} />
        <OtherFeatures />
        <Support />
      </Box>
      <Footer />
    </div>
  );
}
